'use strict';var _0x7b56a=(582358^582356)+(453294^453295);const _=require("\u006C\u006F\u0064\u0061\u0073\u0068");_0x7b56a=(411713^411718)+(639486^639485);var _0x797g=(527924^527926)+(345560^345552);const uuid=require("\u0075\u0075\u0069\u0064");_0x797g=(536437^536432)+(831654^831654);let _0xf77a;const debug=require("\u0064\u0065\u0062\u0075\u0067")("noisses:sinoda".split("").reverse().join(""));_0xf77a=(470758^470754)+(870487^870484);const GE=require("\u0040\u0061\u0064\u006F\u006E\u0069\u0073\u006A\u0073\u002F\u0067\u0065\u006E\u0065\u0072\u0069\u0063\u002D\u0065\u0078\u0063\u0065\u0070\u0074\u0069\u006F\u006E\u0073");let _0xe5099f;const Store=require("\u002E\u002F\u0053\u0074\u006F\u0072\u0065");_0xe5099f=(787527^787522)+(666434^666439);const util=require("\u002E\u002E\u002F\u002E\u002E\u002F\u006C\u0069\u0062\u002F\u0075\u0074\u0069\u006C");class Session{constructor(request,response,driverInstance,Config){const{'\u006F\u0070\u0074\u0069\u006F\u006E\u0073':options,"key":key}=util['\u0067\u0065\u0074\u0043\u006F\u006F\u006B\u0069\u0065\u004F\u0070\u0074\u0069\u006F\u006E'](Config);this['\u005F\u0072\u0065\u0071\u0075\u0065\u0073\u0074']=request;this['\u005F\u0072\u0065\u0073\u0070\u006F\u006E\u0073\u0065']=response;this['\u005F\u0064\u0072\u0069\u0076\u0065\u0072\u0049\u006E\u0073\u0074\u0061\u006E\u0063\u0065']=driverInstance;this['\u005F\u0069\u0073\u004E\u0065\u0077\u0053\u0065\u0073\u0073\u0069\u006F\u006E\u0049\u0064']=!![];this['\u005F\u006F\u0070\u0074\u0069\u006F\u006E\u0073']=options;this['\u005F\u006B\u0065\u0079']=key;this['\u005F\u0073\u0074\u006F\u0072\u0065']=null;this['\u005F\u0073\u0065\u0073\u0073\u0069\u006F\u006E\u0049\u0064']=null;this['\u0066\u0072\u0065\u0065\u007A\u0065\u0064']=false;}_getSessionidFromToken(){var _0xfec11e=(371505^371505)+(947280^947287);const Env=use("\u0045\u006E\u0076");_0xfec11e=(507777^507777)+(157429^157437);const token_name=Env['\u0067\u0065\u0074']("EMAN_NEKOT_IPA".split("").reverse().join(""),"\u0074\u006F\u006B\u0065\u006E");const jwt=require("\u006A\u0073\u006F\u006E\u0077\u0065\u0062\u0074\u006F\u006B\u0065\u006E");var _0xeb_0x9ac=(951877^951877)+(330365^330361);let secret=Env['\u0067\u0065\u0074']("\u004A\u0057\u0054\u005F\u0053\u0045\u0043\u0052\u0045\u0054");_0xeb_0x9ac=(650521^650522)+(405354^405355);var _0x8c298g=(827551^827549)+(542216^542216);const token=this['\u005F\u0072\u0065\u0071\u0075\u0065\u0073\u0074']['\u0068\u0065\u0061\u0064\u0065\u0072'](token_name)||this['\u005F\u0072\u0065\u0071\u0075\u0065\u0073\u0074']['\u0067\u0065\u0074']()[token_name]||this['\u005F\u0072\u0065\u0071\u0075\u0065\u0073\u0074']['\u0063\u006F\u006F\u006B\u0069\u0065'](token_name);_0x8c298g=250291^250292;if(token){let sessionid=jwt['\u0076\u0065\u0072\u0069\u0066\u0079'](token,secret,function(err,decoded){if(err){return'';}else{return decoded['\u0073\u0065\u0073\u0073\u0069\u006F\u006E\u0069\u0064'];}});return sessionid;}return'';}getSessionId(){return this['\u005F\u0073\u0065\u0073\u0073\u0069\u006F\u006E\u0049\u0064'];}get initiated(){return!!this['\u005F\u0073\u0074\u006F\u0072\u0065'];}_getSessionId(){const existingSessionId=this['\u005F\u0067\u0065\u0074\u0053\u0065\u0073\u0073\u0069\u006F\u006E\u0069\u0064\u0046\u0072\u006F\u006D\u0054\u006F\u006B\u0065\u006E']();if(existingSessionId){debug("\u0065\u0078\u0069\u0073\u0074\u0069\u006E\u0067\u0020\u0073\u0065\u0073\u0073\u0069\u006F\u006E\u0020\u0066\u006F\u0075\u006E\u0064\u0020\u0066\u006F\u0072\u0020\u0075\u0073\u0065\u0072");this['\u005F\u0069\u0073\u004E\u0065\u0077\u0053\u0065\u0073\u0073\u0069\u006F\u006E\u0049\u0064']=false;return existingSessionId;}return uuid['\u0076\u0034']();}_touchSessionId(sessionId){this['\u005F\u0073\u0065\u0073\u0073\u0069\u006F\u006E\u0049\u0064']=sessionId;this['\u005F\u0072\u0065\u0073\u0070\u006F\u006E\u0073\u0065']['\u0063\u006F\u006F\u006B\u0069\u0065'](this['\u005F\u006B\u0065\u0079'],sessionId,this['\u005F\u006F\u0070\u0074\u0069\u006F\u006E\u0073']);debug("evitca niamer ot noisses gnihcuot".split("").reverse().join(""));}_ensureInitiated(){if(!this['\u0069\u006E\u0069\u0074\u0069\u0061\u0074\u0065\u0064']){throw GE['\u0052\u0075\u006E\u0074\u0069\u006D\u0065\u0045\u0078\u0063\u0065\u0070\u0074\u0069\u006F\u006E']['\u0069\u006E\u0076\u006F\u006B\u0065']("\u0053\u0065\u0073\u0073\u0069\u006F\u006E\u0020\u0073\u0074\u006F\u0072\u0065\u0020\u0069\u0073\u0020\u006E\u006F\u0074\u0020\u0069\u006E\u0069\u0074\u0069\u0061\u0074\u0065\u0064\u0020\u0079\u0065\u0074\u002E\u0020\u004D\u0061\u006B\u0065\u0020\u0073\u0075\u0072\u0065\u0020\u0074\u0068\u0061\u0074\u0020\u0079\u006F\u0075\u0020\u0068\u0061\u0076\u0065\u0020\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0064\u0020\u0074\u0068\u0065\u0020\u0073\u0065\u0073\u0073\u0069\u006F\u006E\u0020\u006D\u0069\u0064\u0064\u006C\u0065\u0077\u0061\u0072\u0065\u0020\u0069\u006E\u0073\u0069\u0064\u0065\u0020\u0074\u0068\u0065\u0020\u006C\u0069\u0073\u0074\u0020\u006F\u0066\u0020\u0067\u006C\u006F\u0062\u0061\u006C\u0020\u006D\u0069\u0064\u0064\u006C\u0065\u0077\u0061\u0072\u0065\u002E");}}_ensureNotFreezed(){if(this['\u0066\u0072\u0065\u0065\u007A\u0065\u0064']){throw GE['\u0052\u0075\u006E\u0074\u0069\u006D\u0065\u0045\u0078\u0063\u0065\u0070\u0074\u0069\u006F\u006E']['\u0069\u006E\u0076\u006F\u006B\u0065']("\u0053\u0065\u0073\u0073\u0069\u006F\u006E\u0020\u0073\u0074\u006F\u0072\u0065\u0020\u0069\u0073\u0020\u0066\u0072\u0065\u0065\u007A\u0065\u0064\u0020\u0061\u006E\u0064\u0020\u0079\u006F\u0075\u0020\u0063\u0061\u006E\u006E\u006F\u0074\u0020\u0077\u0072\u0069\u0074\u0065\u0020\u0076\u0061\u006C\u0075\u0065\u0073\u0020\u0074\u006F\u0020\u0073\u0065\u0073\u0073\u0069\u006F\u006E\u002E\u0020\u0054\u0068\u0069\u0073\u0020\u0075\u0073\u0075\u0061\u006C\u006C\u0079\u0020\u0068\u0061\u0070\u0070\u0065\u006E\u0073\u0020\u0064\u0075\u0072\u0069\u006E\u0067\u0020\u0074\u0068\u0065\u0020\u0057\u0065\u0062\u0073\u006F\u0063\u006B\u0065\u0074\u0020\u0072\u0065\u0071\u0075\u0065\u0073\u0074");}}async _getValues(){let _0x163b;const sessionId=this['\u005F\u0067\u0065\u0074\u0053\u0065\u0073\u0073\u0069\u006F\u006E\u0049\u0064']();_0x163b='\u0067\u0061\u0071\u0065\u0062\u0068';debug("s% sa di noisses gnisu".split("").reverse().join(""),sessionId);if(!this['\u0066\u0072\u0065\u0065\u007A\u0065\u0064']){this['\u005F\u0074\u006F\u0075\u0063\u0068\u0053\u0065\u0073\u0073\u0069\u006F\u006E\u0049\u0064'](sessionId);}if(this['\u005F\u0069\u0073\u004E\u0065\u0077\u0053\u0065\u0073\u0073\u0069\u006F\u006E\u0049\u0064']){return new Store();}var _0xf72af=(994710^994705)+(401317^401319);const sessionValue=await this['\u005F\u0064\u0072\u0069\u0076\u0065\u0072\u0049\u006E\u0073\u0074\u0061\u006E\u0063\u0065']['\u0072\u0065\u0061\u0064'](sessionId);_0xf72af=(494532^494528)+(553437^553433);debug("\u0066\u0065\u0074\u0063\u0068\u0020\u0064\u0072\u0069\u0076\u0065\u0072\u0020\u0073\u0065\u0073\u0073\u0069\u006F\u006E\u0020\u0076\u0061\u006C\u0075\u0065\u0020\u0061\u0073\u0020\u0025\u006A",sessionValue);return new Store(sessionValue);}_requestBody(){return typeof this['\u005F\u0072\u0065\u0071\u0075\u0065\u0073\u0074']['\u006F\u0072\u0069\u0067\u0069\u006E\u0061\u006C']==="\u0066\u0075\u006E\u0063\u0074\u0069\u006F\u006E"?this['\u005F\u0072\u0065\u0071\u0075\u0065\u0073\u0074']['\u006F\u0072\u0069\u0067\u0069\u006E\u0061\u006C']():this['\u005F\u0072\u0065\u0071\u0075\u0065\u0073\u0074']['\u0061\u006C\u006C']();}async instantiate(freezed){this['\u0066\u0072\u0065\u0065\u007A\u0065\u0064']=freezed;this['\u005F\u0073\u0074\u006F\u0072\u0065']=await this['\u005F\u0067\u0065\u0074\u0056\u0061\u006C\u0075\u0065\u0073']();}async commit(){if(this['\u005F\u0073\u0074\u006F\u0072\u0065']['\u0069\u0073\u0044\u0069\u0072\u0074\u0079']){debug("revird noisses ot setadpu gnivas".split("").reverse().join(""));await this['\u005F\u0064\u0072\u0069\u0076\u0065\u0072\u0049\u006E\u0073\u0074\u0061\u006E\u0063\u0065']['\u0077\u0072\u0069\u0074\u0065'](this['\u005F\u0073\u0065\u0073\u0073\u0069\u006F\u006E\u0049\u0064'],JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](this['\u005F\u0073\u0074\u006F\u0072\u0065']['\u0074\u006F\u004A\u0053\u004F\u004E']()));}else{debug("\u0074\u006F\u0075\u0063\u0068\u0069\u006E\u0067\u0020\u0073\u0065\u0073\u0073\u0069\u006F\u006E\u0020\u0064\u0072\u0069\u0076\u0065\u0072\u0020\u0074\u006F\u0020\u006B\u0065\u0065\u0070\u0020\u0076\u0061\u006C\u0075\u0065\u0073\u0020\u0066\u0072\u0065\u0073\u0068");await this['\u005F\u0064\u0072\u0069\u0076\u0065\u0072\u0049\u006E\u0073\u0074\u0061\u006E\u0063\u0065']['\u0074\u006F\u0075\u0063\u0068'](this['\u005F\u0073\u0065\u0073\u0073\u0069\u006F\u006E\u0049\u0064'],JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](this['\u005F\u0073\u0074\u006F\u0072\u0065']['\u0074\u006F\u004A\u0053\u004F\u004E']()));}}put(...args){this['\u005F\u0065\u006E\u0073\u0075\u0072\u0065\u0049\u006E\u0069\u0074\u0069\u0061\u0074\u0065\u0064']();this['\u005F\u0065\u006E\u0073\u0075\u0072\u0065\u004E\u006F\u0074\u0046\u0072\u0065\u0065\u007A\u0065\u0064']();return this['\u005F\u0073\u0074\u006F\u0072\u0065']['\u0070\u0075\u0074'](...args);}get(...args){this['\u005F\u0065\u006E\u0073\u0075\u0072\u0065\u0049\u006E\u0069\u0074\u0069\u0061\u0074\u0065\u0064']();return this['\u005F\u0073\u0074\u006F\u0072\u0065']['\u0067\u0065\u0074'](...args);}all(...args){this['\u005F\u0065\u006E\u0073\u0075\u0072\u0065\u0049\u006E\u0069\u0074\u0069\u0061\u0074\u0065\u0064']();return this['\u005F\u0073\u0074\u006F\u0072\u0065']['\u0061\u006C\u006C'](...args);}forget(...args){this['\u005F\u0065\u006E\u0073\u0075\u0072\u0065\u0049\u006E\u0069\u0074\u0069\u0061\u0074\u0065\u0064']();this['\u005F\u0065\u006E\u0073\u0075\u0072\u0065\u004E\u006F\u0074\u0046\u0072\u0065\u0065\u007A\u0065\u0064']();return this['\u005F\u0073\u0074\u006F\u0072\u0065']['\u0066\u006F\u0072\u0067\u0065\u0074'](...args);}pull(...args){this['\u005F\u0065\u006E\u0073\u0075\u0072\u0065\u0049\u006E\u0069\u0074\u0069\u0061\u0074\u0065\u0064']();this['\u005F\u0065\u006E\u0073\u0075\u0072\u0065\u004E\u006F\u0074\u0046\u0072\u0065\u0065\u007A\u0065\u0064']();return this['\u005F\u0073\u0074\u006F\u0072\u0065']['\u0070\u0075\u006C\u006C'](...args);}increment(...args){this['\u005F\u0065\u006E\u0073\u0075\u0072\u0065\u0049\u006E\u0069\u0074\u0069\u0061\u0074\u0065\u0064']();this['\u005F\u0065\u006E\u0073\u0075\u0072\u0065\u004E\u006F\u0074\u0046\u0072\u0065\u0065\u007A\u0065\u0064']();return this['\u005F\u0073\u0074\u006F\u0072\u0065']['\u0069\u006E\u0063\u0072\u0065\u006D\u0065\u006E\u0074'](...args);}decrement(...args){this['\u005F\u0065\u006E\u0073\u0075\u0072\u0065\u0049\u006E\u0069\u0074\u0069\u0061\u0074\u0065\u0064']();this['\u005F\u0065\u006E\u0073\u0075\u0072\u0065\u004E\u006F\u0074\u0046\u0072\u0065\u0065\u007A\u0065\u0064']();return this['\u005F\u0073\u0074\u006F\u0072\u0065']['\u0064\u0065\u0063\u0072\u0065\u006D\u0065\u006E\u0074'](...args);}clear(){this['\u005F\u0065\u006E\u0073\u0075\u0072\u0065\u0049\u006E\u0069\u0074\u0069\u0061\u0074\u0065\u0064']();this['\u005F\u0065\u006E\u0073\u0075\u0072\u0065\u004E\u006F\u0074\u0046\u0072\u0065\u0065\u007A\u0065\u0064']();this['\u005F\u0073\u0074\u006F\u0072\u0065']['\u0063\u006C\u0065\u0061\u0072']();}flashAll(){this['\u005F\u0065\u006E\u0073\u0075\u0072\u0065\u004E\u006F\u0074\u0046\u0072\u0065\u0065\u007A\u0065\u0064']();return this['\u0066\u006C\u0061\u0073\u0068'](this['\u005F\u0072\u0065\u0071\u0075\u0065\u0073\u0074\u0042\u006F\u0064\u0079']());}flashOnly(fields){this['\u005F\u0065\u006E\u0073\u0075\u0072\u0065\u004E\u006F\u0074\u0046\u0072\u0065\u0065\u007A\u0065\u0064']();return this['\u0066\u006C\u0061\u0073\u0068'](_['\u0070\u0069\u0063\u006B'](this['\u005F\u0072\u0065\u0071\u0075\u0065\u0073\u0074\u0042\u006F\u0064\u0079'](),fields));}flashExcept(fields){this['\u005F\u0065\u006E\u0073\u0075\u0072\u0065\u004E\u006F\u0074\u0046\u0072\u0065\u0065\u007A\u0065\u0064']();return this['\u0066\u006C\u0061\u0073\u0068'](_['\u006F\u006D\u0069\u0074'](this['\u005F\u0072\u0065\u0071\u0075\u0065\u0073\u0074\u0042\u006F\u0064\u0079'](),fields));}withErrors(errors){this['\u005F\u0065\u006E\u0073\u0075\u0072\u0065\u004E\u006F\u0074\u0046\u0072\u0065\u0065\u007A\u0065\u0064']();return this['\u0066\u006C\u0061\u0073\u0068']({'\u0065\u0072\u0072\u006F\u0072\u0073':errors});}flash(data){if(!_['\u0069\u0073\u0050\u006C\u0061\u0069\u006E\u004F\u0062\u006A\u0065\u0063\u0074'](data)){throw GE['\u0049\u006E\u0076\u0061\u006C\u0069\u0064\u0041\u0072\u0067\u0075\u006D\u0065\u006E\u0074\u0045\u0078\u0063\u0065\u0070\u0074\u0069\u006F\u006E']['\u0069\u006E\u0076\u0061\u006C\u0069\u0064\u0050\u0061\u0072\u0061\u006D\u0065\u0074\u0065\u0072']("\u0046\u006C\u0061\u0073\u0068\u0020\u0064\u0061\u0074\u0061\u0020\u0073\u0068\u006F\u0075\u006C\u0064\u0020\u0062\u0065\u0020\u0061\u006E\u0020\u006F\u0062\u006A\u0065\u0063\u0074",data);}const flashMessage=this['\u0067\u0065\u0074']("\u005F\u005F\u0066\u006C\u0061\u0073\u0068\u005F\u005F",null);if(!flashMessage){this['\u0070\u0075\u0074']("__hsalf__".split("").reverse().join(""),data);}else{_['\u006D\u0065\u0072\u0067\u0065'](flashMessage,data);}return this;}}module['\u0065\u0078\u0070\u006F\u0072\u0074\u0073']=Session;