var _0x44be=['_store','_sessionId','freezed','_getSessionidFromToken','Env','jsonwebtoken','get','JWT_SECRET','header','access_token','verify','sessionid','getSessionId','initiated','_getSessionId','cookie','existing\x20session\x20found\x20for\x20user','_touchSessionId','touching\x20session\x20to\x20remain\x20active','_ensureInitiated','RuntimeException','invoke','Session\x20store\x20is\x20not\x20initiated\x20yet.\x20Make\x20sure\x20that\x20you\x20have\x20included\x20the\x20session\x20middleware\x20inside\x20the\x20list\x20of\x20global\x20middleware.','_ensureNotFreezed','Session\x20store\x20is\x20freezed\x20and\x20you\x20cannot\x20write\x20values\x20to\x20session.\x20This\x20usually\x20happens\x20during\x20the\x20Websocket\x20request','_getValues','using\x20session\x20id\x20as\x20%s','read','fetch\x20driver\x20session\x20value\x20as\x20%j','_requestBody','original','function','all','instantiate','commit','isDirty','saving\x20updates\x20to\x20session\x20driver','write','stringify','toJSON','touching\x20session\x20driver\x20to\x20keep\x20values\x20fresh','touch','put','forget','pull','increment','decrement','clear','flashAll','flash','flashOnly','pick','flashExcept','omit','withErrors','isPlainObject','InvalidArgumentException','invalidParameter','Flash\x20data\x20should\x20be\x20an\x20object','__flash__','merge','exports','lodash','uuid','debug','adonis:session','@adonisjs/generic-exceptions','./Store','../../lib/util','getCookieOption','_request','_response','_driverInstance','_isNewSessionId','_options','_key'];(function(_0x546147,_0x4f716e){var _0x540f50=function(_0x5c0e91){while(--_0x5c0e91){_0x546147['push'](_0x546147['shift']());}};_0x540f50(++_0x4f716e);}(_0x44be,0x1ba));var _0x451f=function(_0x4fd363,_0x152dc9){_0x4fd363=_0x4fd363-0x0;var _0x15d644=_0x44be[_0x4fd363];return _0x15d644;};'use strict';/*
 * adonis-session
 *
 * (c) Harminder Virk <virk@adonisjs.com>
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 */const _=require(_0x451f('0x0'));const uuid=require(_0x451f('0x1'));const debug=require(_0x451f('0x2'))(_0x451f('0x3'));const GE=require(_0x451f('0x4'));const Store=require(_0x451f('0x5'));const util=require(_0x451f('0x6'));class Session{constructor(_0x508558,_0x4f7eba,_0x12b4d0,_0x2c7696){const {options,key}=util[_0x451f('0x7')](_0x2c7696);this[_0x451f('0x8')]=_0x508558;this[_0x451f('0x9')]=_0x4f7eba;this[_0x451f('0xa')]=_0x12b4d0;this[_0x451f('0xb')]=!![];this[_0x451f('0xc')]=options;this[_0x451f('0xd')]=key;this[_0x451f('0xe')]=null;this[_0x451f('0xf')]=null;this[_0x451f('0x10')]=![];}[_0x451f('0x11')](){const _0xf66c9e=use(_0x451f('0x12'));const _0x12961c=require(_0x451f('0x13'));let _0x44cad9=_0xf66c9e[_0x451f('0x14')](_0x451f('0x15'));const _0x485ee9=this[_0x451f('0x8')][_0x451f('0x16')](_0x451f('0x17'))||this[_0x451f('0x8')][_0x451f('0x14')]()[_0x451f('0x17')];if(_0x485ee9){let _0x303665=_0x12961c[_0x451f('0x18')](_0x485ee9,_0x44cad9,function(_0x4b43c0,_0x12fda0){if(_0x4b43c0){return'';}else{return _0x12fda0[_0x451f('0x19')];}});return _0x303665;}return'';}[_0x451f('0x1a')](){return this[_0x451f('0xf')];}get[_0x451f('0x1b')](){return!!this[_0x451f('0xe')];}[_0x451f('0x1c')](){const _0x64a994=this[_0x451f('0x11')]()||this[_0x451f('0x8')][_0x451f('0x1d')](this[_0x451f('0xd')]);if(_0x64a994){debug(_0x451f('0x1e'));this[_0x451f('0xb')]=![];return _0x64a994;}return uuid['v4']();}[_0x451f('0x1f')](_0x236ab0){this[_0x451f('0xf')]=_0x236ab0;this[_0x451f('0x9')][_0x451f('0x1d')](this[_0x451f('0xd')],_0x236ab0,this[_0x451f('0xc')]);debug(_0x451f('0x20'));}[_0x451f('0x21')](){if(!this[_0x451f('0x1b')]){throw GE[_0x451f('0x22')][_0x451f('0x23')](_0x451f('0x24'));}}[_0x451f('0x25')](){if(this[_0x451f('0x10')]){throw GE[_0x451f('0x22')][_0x451f('0x23')](_0x451f('0x26'));}}async[_0x451f('0x27')](){const _0x17ffe4=this[_0x451f('0x1c')]();debug(_0x451f('0x28'),_0x17ffe4);if(!this[_0x451f('0x10')]){this[_0x451f('0x1f')](_0x17ffe4);}if(this[_0x451f('0xb')]){return new Store();}const _0x4480e1=await this[_0x451f('0xa')][_0x451f('0x29')](_0x17ffe4);debug(_0x451f('0x2a'),_0x4480e1);return new Store(_0x4480e1);}[_0x451f('0x2b')](){return typeof this[_0x451f('0x8')][_0x451f('0x2c')]===_0x451f('0x2d')?this[_0x451f('0x8')][_0x451f('0x2c')]():this[_0x451f('0x8')][_0x451f('0x2e')]();}async[_0x451f('0x2f')](_0x35f55e){this[_0x451f('0x10')]=_0x35f55e;this[_0x451f('0xe')]=await this[_0x451f('0x27')]();}async[_0x451f('0x30')](){if(this[_0x451f('0xe')][_0x451f('0x31')]){debug(_0x451f('0x32'));await this[_0x451f('0xa')][_0x451f('0x33')](this[_0x451f('0xf')],JSON[_0x451f('0x34')](this[_0x451f('0xe')][_0x451f('0x35')]()));}else{debug(_0x451f('0x36'));await this[_0x451f('0xa')][_0x451f('0x37')](this[_0x451f('0xf')],JSON[_0x451f('0x34')](this[_0x451f('0xe')][_0x451f('0x35')]()));}}[_0x451f('0x38')](..._0x2dd482){this[_0x451f('0x21')]();this[_0x451f('0x25')]();return this[_0x451f('0xe')][_0x451f('0x38')](..._0x2dd482);}[_0x451f('0x14')](..._0x1e34c9){this[_0x451f('0x21')]();return this[_0x451f('0xe')][_0x451f('0x14')](..._0x1e34c9);}[_0x451f('0x2e')](..._0x4c2bfc){this[_0x451f('0x21')]();return this[_0x451f('0xe')][_0x451f('0x2e')](..._0x4c2bfc);}[_0x451f('0x39')](..._0x3e2ca){this[_0x451f('0x21')]();this[_0x451f('0x25')]();return this[_0x451f('0xe')][_0x451f('0x39')](..._0x3e2ca);}[_0x451f('0x3a')](..._0x2d52ac){this[_0x451f('0x21')]();this[_0x451f('0x25')]();return this[_0x451f('0xe')][_0x451f('0x3a')](..._0x2d52ac);}[_0x451f('0x3b')](..._0x3cd4a8){this[_0x451f('0x21')]();this[_0x451f('0x25')]();return this[_0x451f('0xe')][_0x451f('0x3b')](..._0x3cd4a8);}[_0x451f('0x3c')](..._0x4f7823){this[_0x451f('0x21')]();this[_0x451f('0x25')]();return this[_0x451f('0xe')][_0x451f('0x3c')](..._0x4f7823);}[_0x451f('0x3d')](){this[_0x451f('0x21')]();this[_0x451f('0x25')]();this[_0x451f('0xe')][_0x451f('0x3d')]();}[_0x451f('0x3e')](){this[_0x451f('0x25')]();return this[_0x451f('0x3f')](this[_0x451f('0x2b')]());}[_0x451f('0x40')](_0x346187){this[_0x451f('0x25')]();return this[_0x451f('0x3f')](_[_0x451f('0x41')](this[_0x451f('0x2b')](),_0x346187));}[_0x451f('0x42')](_0x14efdb){this[_0x451f('0x25')]();return this[_0x451f('0x3f')](_[_0x451f('0x43')](this[_0x451f('0x2b')](),_0x14efdb));}[_0x451f('0x44')](_0x114f0e){this[_0x451f('0x25')]();return this[_0x451f('0x3f')]({'errors':_0x114f0e});}[_0x451f('0x3f')](_0x4fd5ae){if(!_[_0x451f('0x45')](_0x4fd5ae)){throw GE[_0x451f('0x46')][_0x451f('0x47')](_0x451f('0x48'),_0x4fd5ae);}const _0x413e25=this[_0x451f('0x14')](_0x451f('0x49'),null);if(!_0x413e25){this[_0x451f('0x38')](_0x451f('0x49'),_0x4fd5ae);}else{_[_0x451f('0x4a')](_0x413e25,_0x4fd5ae);}return this;}}module[_0x451f('0x4b')]=Session;